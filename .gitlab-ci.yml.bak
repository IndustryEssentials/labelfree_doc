stages:
  - docker_image
  - deploy

build-job:       # This job runs in the build stage, which runs first.
  stage: docker_image
  tags:
    - html
  script:
    - docker stop laeblfre_doc
    - docker rm laeblfre_doc
    - docker rmi labelfree/opne_doc:latest
    - docker build -t labelfree/opne_doc:latest .

deploy-job:      # This job runs in the deploy stage.
  stage: deploy  # It only runs when *both* jobs in the test stage complete successfully.
  tags:
    - html
  script:

    - docker run -d -p 18002:80 --name laeblfre_doc -v  labelfree/opne_doc:latest